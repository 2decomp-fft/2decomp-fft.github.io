
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Results for CPU: Archer2 &#8212; 2decomp_doc  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Results for GPU: Cirrus" href="benchmarks_cirrus.html" />
    <link rel="prev" title="Benchmarks" href="benchmarks.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="results-for-cpu-archer2">
<span id="benchmark-archer2"></span><h1>Results for CPU: Archer2<a class="headerlink" href="#results-for-cpu-archer2" title="Permalink to this headline">¶</a></h1>
<p>Archer2 is the UK National Supercomputer service capable of 28 Pflops/s at peak performance.
The systems has 5,860 compute nodes, each with dual AMD EPYCTM 7742 64-core processors at 2.25GHz,
giving 750,080 cores in total.</p>
<p>Resuls are listed below</p>
<ul class="simple">
<li><p>Transpose real 3D array</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_TrReal_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability transpose real test: Resolution 512^3" src="../_images/2023_08_01_Res0512x0512x0512_TrReal_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_TrReal_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp transpose real test: Resolution 512^3" src="../_images/2023_08_01_Res0512x0512x0512_TrReal_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_TrReal_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability transpose real test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_TrReal_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_TrReal_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp transpose real test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_TrReal_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
<li><p>Transpose complex 3D array</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_TrClx_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability transpose complex test: Resolution 512^3" src="../_images/2023_08_01_Res0512x0512x0512_TrClx_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_TrClx_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp transpose complex test: Resolution 512^3" src="../_images/2023_08_01_Res0512x0512x0512_TrClx_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_TrClx_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability transpose complex test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_TrClx_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_TrClx_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp transpose complex test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_TrClx_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
<li><p>FFT transform of a 3D real array starting from <code class="docutils literal notranslate"><span class="pre">X</span></code> physical direction</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_R2CX_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CX test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_R2CX_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_R2CX_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CX test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_R2CX_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_R2CX_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CX test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_R2CX_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_R2CX_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CX test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_R2CX_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
<li><p>FFT transform of a 3D complex array starting from <code class="docutils literal notranslate"><span class="pre">X</span></code> physical direction</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_C2CX_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CX test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_C2CX_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_C2CX_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CX test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_C2CX_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_C2CX_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CX test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_C2CX_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_C2CX_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CX test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_C2CX_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
<li><p>FFT transform of a 3D real array starting from <code class="docutils literal notranslate"><span class="pre">Z</span></code> physical direction</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_R2CZ_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CZ test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_R2CZ_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_R2CZ_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CZ test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_R2CZ_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_R2CZ_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CZ test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_R2CZ_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_R2CZ_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CZ test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_R2CZ_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
<li><p>FFT transform of a 3D complex array starting from <code class="docutils literal notranslate"><span class="pre">Z</span></code> physical direction</p>
<ul>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=512</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_C2CZ_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CZ test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_C2CZ_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res0512x0512x0512_C2CZ_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CZ test: Resolution 0512^3" src="../_images/2023_08_01_Res0512x0512x0512_C2CZ_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
<li><p>Resolution <code class="docutils literal notranslate"><span class="pre">NX=NY=NZ=1024</span></code> <br/> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_C2CZ_CPU_Archer2_ScalabilityTsec.pdf"><img alt="Archer2 Scalability R2CZ test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_C2CZ_CPU_Archer2_ScalabilityTsec.pdf" style="width: 35%;" /></a> <a class="reference internal" href="../_images/2023_08_01_Res1024x1024x1024_C2CZ_CPU_Archer2_SpeedUp.pdf"><img alt="Archer2 SpeedUp R2CZ test: Resolution 1024^3" src="../_images/2023_08_01_Res1024x1024x1024_C2CZ_CPU_Archer2_SpeedUp.pdf" style="width: 35%;" /></a></p></li>
</ul>
</li>
</ul>
<div class="section" id="discussion-on-archer2-results">
<h2>Discussion on Archer2 results<a class="headerlink" href="#discussion-on-archer2-results" title="Permalink to this headline">¶</a></h2>
<p>The results above show that the the version 2.0 of 2DECOMP&amp;FFT library keeps on having extremely good
scalability performances.
The transpose tests show no difference between compilers since the tests mainly focus on MPI communication
and for all executable CRAY MPICH (Version 8.1.23) has been used.
It is interesting to notice that a 1D decomposition, when possible, can give up to a 80% speedup in comparison
with the optimal 2D decomposition. This is because of the new feature of the library where a simple copy,
avoiding completely MPI communication, is performed when data are all co-located in the local memory.
This was not the case with the previous version of the library.
CRAY and GNU compilers performances using the <em>generic</em> FFT tends to differ for a low core count with the GNU
performing a bit better in some cases (up to 50% performace increase), however results tends to converge with the
increase of the numbers of nodes.
This gives some superlinear behaviour when looking at the speedup.</p>
<p>The <strong>FFTW</strong> has been tested only with the CRAY compiler and it gives a speed up of about 3 for a low core count
decreasing to something in between 1.5 and 2 for the larger number of nodes.
The speed up with the FFTW is generally very close to the ideal lineat behaviour.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">2decomp_doc</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="domaindecomposition.html">Domain Decomposition Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft.html">Fast Fourier Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="benchmarks.html">Benchmarks</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Results for CPU: Archer2</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks_cirrus.html">Results for GPU: Cirrus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="benchmarks.html">Benchmarks</a><ul>
      <li>Previous: <a href="benchmarks.html" title="previous chapter">Benchmarks</a></li>
      <li>Next: <a href="benchmarks_cirrus.html" title="next chapter">Results for GPU: Cirrus</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Sylvain.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pages/benchmarks_archer2.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>